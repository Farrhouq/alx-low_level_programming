CC = gcc
SRC = $(wildcard *.c)
OBJ = $(SRC:%.c=%.o)
NAME = school

all: ${OBJ} $(NAME)

%: %.c
	$(CC) -c -o $@ $&lt;

$(NAME): $(OBJ)
	$(CC) $(OBJ) -o $(NAME)
